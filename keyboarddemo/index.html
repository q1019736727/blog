<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./keyboard.css">
    <title>Document</title>
</head>
    <header></header>

    <main>
        <div id="mainBody"></div>
    </main>

    <footer></footer>
<body>
    <script>
        var keys = [
            ['q','w','e','r','t','y','u','i','o','p'],
            ['a','s','d','f','g','h','j','k','l'],
            ['z','x','c','v','b','n','m']
        ]
        var hash = {
            'q':'qq.com',
            'w':'weibo.com',
            's':'sohu.com',
            't':'taobao.com',
            'g':'google.com',
            'j':'jd.com',
            'b':'baidu.com'
        }
        let storeArr = localStorage.getItem('store' || 'null')//后面null防止被手动删除localStorage后出错
        if(storeArr){
            hash = JSON.parse(storeArr)
        }
        let main = document.getElementById('mainBody')
        for (let index = 0; index < keys.length; index++) {
            
            let div = document.createElement('div')
            let mainBody = document.getElementById('mainBody')
            mainBody.appendChild(div)

            let arr =  keys[index]

            for (let index2 = 0; index2 < arr.length; index2++) {
                let kbd = document.createElement('kbd')
                kbd.textContent = arr[index2]
                //这里的id可以设置为任何数
                kbd.id = arr[index2]
                let button = document.createElement('button')
                button.textContent = '编辑'
                button.onclick = function(){
                    let value = prompt('输入键')
                    hash[kbd.id] = value;
                    //将数据存入浏览器中
                    localStorage.setItem('store',JSON.stringify(hash))
                }
                kbd.appendChild(button);
                div.appendChild(kbd)
            }
        }

        document.onkeypress = function (ele) {

            if (hash[ele.key]){
                // 当前页面直接访问网站
                // location.href =  'http://'+hash[ele.key]
                window.open('http://'+hash[ele.key],'_blank')
            }else{
                alert('未设置该键')
            }

        }
    </script>
</body>
</html>