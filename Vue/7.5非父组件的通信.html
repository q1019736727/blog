<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.bootcss.com/vue/2.5.21/vue.js"></script>
    <title>éçˆ¶ç»„ä»¶çš„é€šä¿¡</title>
</head>
<body>
    <div id="app">
        <!--   this.$root.bus.$emit() å’Œ this.$root.bus.$on()   -->
        <child-acomponent></child-acomponent>
        <child-bcomponent></child-bcomponent>

    </div>

    <script>
        let app = new Vue({
            el: '#app',
            data:{
                bus: new Vue()
            },
            components: {

                'child-acomponent': {
                    template: `<div>
                                   <button @click="change">æˆ‘æ˜¯aç»„ä»¶,ç‚¹å‡»æ”¹å˜bç»„ä»¶æ ‡é¢˜</button>
                               </div>`,
                    methods:{
                        change:function () {
                            this.$root.bus.$emit('yoyo','æˆ‘æ˜¯aç»„ä»¶ä¼ è¿‡æ¥çš„ï¼Œå“ˆå“ˆå“ˆğŸ˜„')
                        }
                    }
                },

                'child-bcomponent': {
                    data:function(){
                        return{
                            msg: 'æˆ‘æ˜¯bç»„ä»¶çš„æ•°æ®'
                        }
                    },
                    created:function(){
                        this.$root.bus.$on('yoyo',function (value) {
                            alert(value)
                            this.msg = value
                        })
                    },
                    template: `<div>{{msg}}</div>`,
                }
            }

        })
    </script>
</body>
</html>