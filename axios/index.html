<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/axios/0.17.1/axios.min.js"></script>
    <title>axios初次使用</title>
</head>
<body>
<div id="app">
    <div id="book">书名：《JavaScript 高级程序设计》 数量：<span id="number">2</span></div>
    <button id="add">加1</button>
    <button id="reduce">减1</button>
    <button id="clear">清空</button>
</div>
</body>
<script>

    let book = {
        name: '书名：《JavaScript 高级程序设计》 数量',
        number: 10,
        id: 99
    }
    // 添加一个请求拦截器
    axios.interceptors.request.use(function (response) {//伪造数据
        console.log(response.config)
        let {method,url,data} = response.config
        return config;
    }, function (error) {
        return Promise.reject(error);
    });

    $('#app').on('click','#add',()=>{//这里相当于事件委托
        let oldNum = $('#number').text()
        let newNum = oldNum-0 + 1 //先变为number类型再加1
        axios.get('/book/99',{name:'数据'}).then(()=>{

        })
        $('#number').text(newNum)
    })

    $('#app').on('click','#reduce',()=>{
        let oldNum = $('#number').text()
        let newNum = oldNum-0 - 1
        $('#number').text(newNum)
    })

    $('#app').on('click','#clear',()=>{
        let newNum = 0
        $('#number').text(newNum)
    })


</script>
</html>